<html>
  <head>
    <script type="text/javascript" src="/HoloWorld.js"></script>
  </head>
  <body>
    <form>
      <p>Enter the content for the name of the task</p>
      <label for="task">Task</label>
      <input type="text" id="task" value="This task text will be saved in Holochain" />
      <button type="submit" id="submitTask">Submit</button>
    </form>

    <form>
      <p>Open the Developer Console and copy the hash key</p>
      <label for="hash">Hash</label>
      <input type="text" id="hash" />
      <button type="submit" id="readTask">Read</button>
    </form>

    <form>
      <p>Click the button to list all of the tasks stored in Holochain</p>
      <label for="hash">List</label>
      <button type="submit" id="listTasks">List</button>
      <ul id="tasks" />
    </form>

    <script type="text/javascript">
      document.getElementById("submitTask").addEventListener("click", function(event){
          event.preventDefault()
          taskCreate(document.getElementById('task').value)
      });
      document.getElementById("readTask").addEventListener("click", function(event){
          event.preventDefault()
          taskRead(document.getElementById('hash').value)
      });
      document.getElementById("listTasks").addEventListener("click", function(event){
          event.preventDefault()
          var taskList = document.getElementById("tasks");
          getTasks(function(tasks){
            tasks.forEach(function(task){
              var li = document.createElement("li");
              var txt = document.createTextNode(task.Entry.content);
              li.appendChild(txt);
              taskList.appendChild(li);
              console.log(task.Entry.content);
            });
          })
        });
    </script>
  </body>
</html>
